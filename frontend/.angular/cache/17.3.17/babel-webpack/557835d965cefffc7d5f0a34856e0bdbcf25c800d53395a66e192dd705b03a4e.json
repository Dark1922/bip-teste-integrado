{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { FormsModule } from '@angular/forms';\nlet BeneficioFormComponent = class BeneficioFormComponent {\n  constructor(beneficioService, route, router, snack) {\n    this.beneficioService = beneficioService;\n    this.route = route;\n    this.router = router;\n    this.snack = snack;\n    this.beneficio = {\n      nome: '',\n      descricao: '',\n      valor: 0,\n      ativo: true\n    };\n    this.isEdicao = false;\n    this.salvando = false;\n  }\n  ngOnInit() {\n    const id = this.route.snapshot.paramMap.get('id');\n    if (id) {\n      this.isEdicao = true;\n      this.carregarBeneficio(parseInt(id));\n    }\n  }\n  carregarBeneficio(id) {\n    this.beneficioService.buscarPorId(id).subscribe({\n      next: beneficio => this.beneficio = beneficio,\n      error: () => {\n        this.snack.error('Erro ao carregar benefício.');\n        this.router.navigate(['/beneficios']);\n      }\n    });\n  }\n  salvar() {\n    if (this.salvando) return;\n    this.salvando = true;\n    const operacao = this.isEdicao ? this.beneficioService.atualizar(this.beneficio.id, this.beneficio) : this.beneficioService.criar(this.beneficio);\n    operacao.subscribe({\n      next: () => {\n        this.snack.ok(this.isEdicao ? 'Benefício atualizado!' : 'Benefício criado!');\n        this.router.navigate(['/beneficios']);\n      },\n      error: () => {\n        this.snack.error('Erro ao salvar benefício.');\n        this.salvando = false;\n      }\n    });\n  }\n};\nBeneficioFormComponent = __decorate([Component({\n  selector: 'app-beneficio-form',\n  standalone: true,\n  imports: [CommonModule, RouterModule, FormsModule],\n  templateUrl: './beneficio-form.component.html',\n  styleUrls: ['./beneficio-form.component.css']\n})], BeneficioFormComponent);\nexport { BeneficioFormComponent };","map":{"version":3,"names":["Component","CommonModule","RouterModule","FormsModule","BeneficioFormComponent","constructor","beneficioService","route","router","snack","beneficio","nome","descricao","valor","ativo","isEdicao","salvando","ngOnInit","id","snapshot","paramMap","get","carregarBeneficio","parseInt","buscarPorId","subscribe","next","error","navigate","salvar","operacao","atualizar","criar","ok","__decorate","selector","standalone","imports","templateUrl","styleUrls"],"sources":["C:\\git\\teste-integracao\\bip-teste-integrado-main\\frontend\\src\\app\\components\\beneficio-form\\beneficio-form.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, ActivatedRoute, Router } from '@angular/router';\nimport { FormsModule } from '@angular/forms';\nimport { BeneficioService } from '../../services/beneficio.service';\nimport { Beneficio } from '../../models/beneficio.model';\nimport { SnackService } from '../../services/snack.service';\n\n@Component({\n  selector: 'app-beneficio-form',\n  standalone: true,\n  imports: [CommonModule, RouterModule, FormsModule],\n  templateUrl: './beneficio-form.component.html',\n  styleUrls: ['./beneficio-form.component.css']\n})\nexport class BeneficioFormComponent implements OnInit {\n\n  beneficio: Beneficio = { nome: '', descricao: '', valor: 0, ativo: true };\n  isEdicao = false;\n  salvando = false;\n\n  constructor(\n    private beneficioService: BeneficioService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private snack: SnackService\n  ) {}\n\n  ngOnInit(): void {\n    const id = this.route.snapshot.paramMap.get('id');\n    if (id) {\n      this.isEdicao = true;\n      this.carregarBeneficio(parseInt(id));\n    }\n  }\n\n  carregarBeneficio(id: number): void {\n    this.beneficioService.buscarPorId(id).subscribe({\n      next: (beneficio) => this.beneficio = beneficio,\n      error: () => {\n        this.snack.error('Erro ao carregar benefício.');\n        this.router.navigate(['/beneficios']);\n      }\n    });\n  }\n\n  salvar(): void {\n    if (this.salvando) return;\n    this.salvando = true;\n\n    const operacao = this.isEdicao\n      ? this.beneficioService.atualizar(this.beneficio.id!, this.beneficio)\n      : this.beneficioService.criar(this.beneficio);\n\n    operacao.subscribe({\n      next: () => {\n        this.snack.ok(this.isEdicao ? 'Benefício atualizado!' : 'Benefício criado!');\n        this.router.navigate(['/beneficios']);\n      },\n      error: () => {\n        this.snack.error('Erro ao salvar benefício.');\n        this.salvando = false;\n      }\n    });\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,YAAY,QAAgC,iBAAiB;AACtE,SAASC,WAAW,QAAQ,gBAAgB;AAYrC,IAAMC,sBAAsB,GAA5B,MAAMA,sBAAsB;EAMjCC,YACUC,gBAAkC,EAClCC,KAAqB,EACrBC,MAAc,EACdC,KAAmB;IAHnB,KAAAH,gBAAgB,GAAhBA,gBAAgB;IAChB,KAAAC,KAAK,GAALA,KAAK;IACL,KAAAC,MAAM,GAANA,MAAM;IACN,KAAAC,KAAK,GAALA,KAAK;IARf,KAAAC,SAAS,GAAc;MAAEC,IAAI,EAAE,EAAE;MAAEC,SAAS,EAAE,EAAE;MAAEC,KAAK,EAAE,CAAC;MAAEC,KAAK,EAAE;IAAI,CAAE;IACzE,KAAAC,QAAQ,GAAG,KAAK;IAChB,KAAAC,QAAQ,GAAG,KAAK;EAOb;EAEHC,QAAQA,CAAA;IACN,MAAMC,EAAE,GAAG,IAAI,CAACX,KAAK,CAACY,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC;IACjD,IAAIH,EAAE,EAAE;MACN,IAAI,CAACH,QAAQ,GAAG,IAAI;MACpB,IAAI,CAACO,iBAAiB,CAACC,QAAQ,CAACL,EAAE,CAAC,CAAC;;EAExC;EAEAI,iBAAiBA,CAACJ,EAAU;IAC1B,IAAI,CAACZ,gBAAgB,CAACkB,WAAW,CAACN,EAAE,CAAC,CAACO,SAAS,CAAC;MAC9CC,IAAI,EAAGhB,SAAS,IAAK,IAAI,CAACA,SAAS,GAAGA,SAAS;MAC/CiB,KAAK,EAAEA,CAAA,KAAK;QACV,IAAI,CAAClB,KAAK,CAACkB,KAAK,CAAC,6BAA6B,CAAC;QAC/C,IAAI,CAACnB,MAAM,CAACoB,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC;MACvC;KACD,CAAC;EACJ;EAEAC,MAAMA,CAAA;IACJ,IAAI,IAAI,CAACb,QAAQ,EAAE;IACnB,IAAI,CAACA,QAAQ,GAAG,IAAI;IAEpB,MAAMc,QAAQ,GAAG,IAAI,CAACf,QAAQ,GAC1B,IAAI,CAACT,gBAAgB,CAACyB,SAAS,CAAC,IAAI,CAACrB,SAAS,CAACQ,EAAG,EAAE,IAAI,CAACR,SAAS,CAAC,GACnE,IAAI,CAACJ,gBAAgB,CAAC0B,KAAK,CAAC,IAAI,CAACtB,SAAS,CAAC;IAE/CoB,QAAQ,CAACL,SAAS,CAAC;MACjBC,IAAI,EAAEA,CAAA,KAAK;QACT,IAAI,CAACjB,KAAK,CAACwB,EAAE,CAAC,IAAI,CAAClB,QAAQ,GAAG,uBAAuB,GAAG,mBAAmB,CAAC;QAC5E,IAAI,CAACP,MAAM,CAACoB,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC;MACvC,CAAC;MACDD,KAAK,EAAEA,CAAA,KAAK;QACV,IAAI,CAAClB,KAAK,CAACkB,KAAK,CAAC,2BAA2B,CAAC;QAC7C,IAAI,CAACX,QAAQ,GAAG,KAAK;MACvB;KACD,CAAC;EACJ;CACD;AAlDYZ,sBAAsB,GAAA8B,UAAA,EAPlClC,SAAS,CAAC;EACTmC,QAAQ,EAAE,oBAAoB;EAC9BC,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE,CAACpC,YAAY,EAAEC,YAAY,EAAEC,WAAW,CAAC;EAClDmC,WAAW,EAAE,iCAAiC;EAC9CC,SAAS,EAAE,CAAC,gCAAgC;CAC7C,CAAC,C,EACWnC,sBAAsB,CAkDlC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}