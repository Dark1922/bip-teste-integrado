{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { FormsModule } from '@angular/forms';\nlet TransferenciaComponent = class TransferenciaComponent {\n  constructor(beneficioService, snack) {\n    this.beneficioService = beneficioService;\n    this.snack = snack;\n    this.beneficios = [];\n    this.transferencia = {\n      fromId: 0,\n      toId: 0,\n      valor: 0\n    };\n    this.processando = false;\n  }\n  ngOnInit() {\n    this.carregarBeneficios();\n  }\n  carregarBeneficios() {\n    this.beneficioService.listar().subscribe({\n      next: dados => this.beneficios = dados,\n      error: () => this.snack.error('Erro ao carregar benefícios.')\n    });\n  }\n  get beneficioOrigem() {\n    return this.beneficios.find(b => b.id === this.transferencia.fromId);\n  }\n  get beneficioDestino() {\n    return this.beneficios.find(b => b.id === this.transferencia.toId);\n  }\n  transferir() {\n    if (this.processando) return;\n    this.processando = true;\n    this.beneficioService.transferir(this.transferencia).subscribe({\n      next: msg => {\n        this.snack.ok(msg);\n        this.transferencia = {\n          fromId: 0,\n          toId: 0,\n          valor: 0\n        };\n        this.carregarBeneficios();\n        this.processando = false;\n      },\n      error: err => {\n        this.snack.error('Erro na transferência: ' + err.error);\n        this.processando = false;\n      }\n    });\n  }\n};\nTransferenciaComponent = __decorate([Component({\n  selector: 'app-transferencia',\n  standalone: true,\n  imports: [CommonModule, RouterModule, FormsModule],\n  templateUrl: './transferencia.component.html',\n  styleUrls: ['./transferencia.component.css']\n})], TransferenciaComponent);\nexport { TransferenciaComponent };","map":{"version":3,"names":["Component","CommonModule","RouterModule","FormsModule","TransferenciaComponent","constructor","beneficioService","snack","beneficios","transferencia","fromId","toId","valor","processando","ngOnInit","carregarBeneficios","listar","subscribe","next","dados","error","beneficioOrigem","find","b","id","beneficioDestino","transferir","msg","ok","err","__decorate","selector","standalone","imports","templateUrl","styleUrls"],"sources":["C:\\git\\teste-integracao\\bip-teste-integrado-main\\frontend\\src\\app\\components\\transferencia\\transferencia.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { FormsModule } from '@angular/forms';\nimport { BeneficioService } from '../../services/beneficio.service';\nimport { SnackService } from '../../services/snack.service';\nimport { Beneficio, Transferencia } from '../../models/beneficio.model';\n\n@Component({\n  selector: 'app-transferencia',\n  standalone: true,\n  imports: [CommonModule, RouterModule, FormsModule],\n  templateUrl: './transferencia.component.html',\n  styleUrls: ['./transferencia.component.css']\n})\nexport class TransferenciaComponent implements OnInit {\n\n  beneficios: Beneficio[] = [];\n  transferencia: Transferencia = { fromId: 0, toId: 0, valor: 0 };\n  processando = false;\n\n  constructor(\n    private beneficioService: BeneficioService,\n    private snack: SnackService\n  ) {}\n\n  ngOnInit(): void {\n    this.carregarBeneficios();\n  }\n\n  carregarBeneficios(): void {\n    this.beneficioService.listar().subscribe({\n      next: (dados) => this.beneficios = dados,\n      error: () => this.snack.error('Erro ao carregar benefícios.')\n    });\n  }\n\n  get beneficioOrigem(): Beneficio | undefined {\n    return this.beneficios.find(b => b.id === this.transferencia.fromId);\n  }\n\n  get beneficioDestino(): Beneficio | undefined {\n    return this.beneficios.find(b => b.id === this.transferencia.toId);\n  }\n\n  transferir(): void {\n    if (this.processando) return;\n    this.processando = true;\n\n    this.beneficioService.transferir(this.transferencia).subscribe({\n      next: (msg) => {\n        this.snack.ok(msg);\n        this.transferencia = { fromId: 0, toId: 0, valor: 0 };\n        this.carregarBeneficios();\n        this.processando = false;\n      },\n      error: (err) => {\n        this.snack.error('Erro na transferência: ' + err.error);\n        this.processando = false;\n      }\n    });\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,WAAW,QAAQ,gBAAgB;AAYrC,IAAMC,sBAAsB,GAA5B,MAAMA,sBAAsB;EAMjCC,YACUC,gBAAkC,EAClCC,KAAmB;IADnB,KAAAD,gBAAgB,GAAhBA,gBAAgB;IAChB,KAAAC,KAAK,GAALA,KAAK;IANf,KAAAC,UAAU,GAAgB,EAAE;IAC5B,KAAAC,aAAa,GAAkB;MAAEC,MAAM,EAAE,CAAC;MAAEC,IAAI,EAAE,CAAC;MAAEC,KAAK,EAAE;IAAC,CAAE;IAC/D,KAAAC,WAAW,GAAG,KAAK;EAKhB;EAEHC,QAAQA,CAAA;IACN,IAAI,CAACC,kBAAkB,EAAE;EAC3B;EAEAA,kBAAkBA,CAAA;IAChB,IAAI,CAACT,gBAAgB,CAACU,MAAM,EAAE,CAACC,SAAS,CAAC;MACvCC,IAAI,EAAGC,KAAK,IAAK,IAAI,CAACX,UAAU,GAAGW,KAAK;MACxCC,KAAK,EAAEA,CAAA,KAAM,IAAI,CAACb,KAAK,CAACa,KAAK,CAAC,8BAA8B;KAC7D,CAAC;EACJ;EAEA,IAAIC,eAAeA,CAAA;IACjB,OAAO,IAAI,CAACb,UAAU,CAACc,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAK,IAAI,CAACf,aAAa,CAACC,MAAM,CAAC;EACtE;EAEA,IAAIe,gBAAgBA,CAAA;IAClB,OAAO,IAAI,CAACjB,UAAU,CAACc,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAK,IAAI,CAACf,aAAa,CAACE,IAAI,CAAC;EACpE;EAEAe,UAAUA,CAAA;IACR,IAAI,IAAI,CAACb,WAAW,EAAE;IACtB,IAAI,CAACA,WAAW,GAAG,IAAI;IAEvB,IAAI,CAACP,gBAAgB,CAACoB,UAAU,CAAC,IAAI,CAACjB,aAAa,CAAC,CAACQ,SAAS,CAAC;MAC7DC,IAAI,EAAGS,GAAG,IAAI;QACZ,IAAI,CAACpB,KAAK,CAACqB,EAAE,CAACD,GAAG,CAAC;QAClB,IAAI,CAAClB,aAAa,GAAG;UAAEC,MAAM,EAAE,CAAC;UAAEC,IAAI,EAAE,CAAC;UAAEC,KAAK,EAAE;QAAC,CAAE;QACrD,IAAI,CAACG,kBAAkB,EAAE;QACzB,IAAI,CAACF,WAAW,GAAG,KAAK;MAC1B,CAAC;MACDO,KAAK,EAAGS,GAAG,IAAI;QACb,IAAI,CAACtB,KAAK,CAACa,KAAK,CAAC,yBAAyB,GAAGS,GAAG,CAACT,KAAK,CAAC;QACvD,IAAI,CAACP,WAAW,GAAG,KAAK;MAC1B;KACD,CAAC;EACJ;CACD;AA/CYT,sBAAsB,GAAA0B,UAAA,EAPlC9B,SAAS,CAAC;EACT+B,QAAQ,EAAE,mBAAmB;EAC7BC,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE,CAAChC,YAAY,EAAEC,YAAY,EAAEC,WAAW,CAAC;EAClD+B,WAAW,EAAE,gCAAgC;EAC7CC,SAAS,EAAE,CAAC,+BAA+B;CAC5C,CAAC,C,EACW/B,sBAAsB,CA+ClC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}